function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{"6Ccj":function(t,e,n){"use strict";n.r(e),n.d(e,"GameModule",(function(){return y}));var i,o=n("ofXK"),r=n("tyNb"),s=n("fXoL"),a=function(){function t(e,n){_classCallCheck(this,t),this.currentState=!1,this.tempState=!1,this._row=e,this._col=n}return _createClass(t,[{key:"row",get:function(){return this._row}},{key:"col",get:function(){return this._col}},{key:"setTempState",value:function(t){this.tempState=t}},{key:"toggleState",value:function(){this.tempState=!this.tempState,this.updateCurrentState()}},{key:"updateCurrentState",value:function(){this.currentState=this.tempState}},{key:"isAlive",value:function(){return this.currentState}},{key:"reset",value:function(){this.currentState=this.tempState=!1}}]),t}(),c=((i=function(){function t(){_classCallCheck(this,t),this._generationCount=0}return _createClass(t,[{key:"generationCount",get:function(){return this._generationCount}},{key:"initialize",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;if(e<5||n<5)throw Error("Width and height must be at least 5.");this.rows=e,this.cols=n,this._generationCount=0,this.cells=Array.from({length:e*n}).map((function(e,n,i){return new a(Math.floor(n/t.cols),n%t.cols)}))}},{key:"randomizeCellStates",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.2;if(!this.cells)throw Error("Grid has not yet been initialized.");if(t<0||1<t)throw Error("percentAlive must be a number between 0 and 1, inclusive. Value: "+t);this.reset(),this.cells.forEach((function(e){Math.random()<t&&e.toggleState()}))}},{key:"getGrid",value:function(){if(!this.cells)throw Error("Grid has not yet been initialized.");for(var t=[],e=0;e<this.rows;e++)t.push(this.cells.slice(e*this.cols,(e+1)*this.cols));return t}},{key:"reset",value:function(){if(!this.cells)throw Error("Grid has not yet been initialized.");this.cells.forEach((function(t){return t.reset()})),this._generationCount=0}},{key:"nextGeneration",value:function(){var t=this;if(!this.cells)throw Error("Grid has not yet been initialized.");this.cells.forEach((function(e){switch(t.getNeighborsOfCell(e).filter((function(t){return t.isAlive()})).length){case 2:break;case 3:e.setTempState(!0);break;default:e.setTempState(!1)}})),this._generationCount++,this.updateCellStates()}},{key:"updateCellStates",value:function(){this.cells.forEach((function(t){return t.updateCurrentState()}))}},{key:"getNeighborsOfCell",value:function(t){var e=this;if(this.isOutOfBounds(t))throw Error("Cell coordinates are out of bounds.");var n=t.row,i=t.col;return[{row:n-1,col:i},{row:n-1,col:i+1},{row:n,col:i+1},{row:n+1,col:i+1},{row:n+1,col:i},{row:n+1,col:i-1},{row:n,col:i-1},{row:n-1,col:i-1}].filter((function(t){return!e.isOutOfBounds(t)})).map((function(t){return e.getCellAt(t)}))}},{key:"getCellAt",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.row,n=void 0===e?0:e,i=t.col,o=void 0===i?0:i;if(this.isOutOfBounds({row:n,col:o}))throw Error("Cell coordinates are out of bounds. Bounds: ".concat(this.rows," rows, ").concat(this.cols," cols. Value: ").concat({row:n,col:o}));return this.cells[n*this.cols+o]}},{key:"playAudio",value:function(){var t=new Audio;t.src="https://mikiko16.github.io/GameOfLife.github.io/assets/music/ForestWalk.mp3",t.load(),t.play()}},{key:"isOutOfBounds",value:function(t){var e=t.row,n=t.col;return this.isRowOutOfBounds(e)||this.isColOutOfBounds(n)}},{key:"isRowOutOfBounds",value:function(t){return t<0||this.rows<=t}},{key:"isColOutOfBounds",value:function(t){return t<0||this.cols<=t}}]),t}()).\u0275fac=function(t){return new(t||i)},i.\u0275prov=s.Cb({token:i,factory:i.\u0275fac,providedIn:"root"}),i);function l(t,e){if(1&t){var n=s.Kb();s.Jb(0,"div",3),s.Qb("click",(function(){s.Vb(n);var t=e.$implicit;return s.Sb(2).toggleState(t)})),s.Ib()}2&t&&s.yb("alive",e.$implicit.isAlive())}function u(t,e){if(1&t&&(s.Jb(0,"div",1),s.Yb(1,l,1,2,"div",2),s.Ib()),2&t){var n=e.$implicit;s.wb(1),s.Tb("ngForOf",n)}}var f,h,d,g,b,v=((h=function(){function t(e){_classCallCheck(this,t),this.gameOfLifeService=e}return _createClass(t,[{key:"ngOnInit",value:function(){this.grid=this.gameOfLifeService.getGrid()}},{key:"toggleState",value:function(t){t.toggleState()}}]),t}()).\u0275fac=function(t){return new(t||h)(s.Gb(c))},h.\u0275cmp=s.Ab({type:h,selectors:[["app-game-of-life-grid"]],inputs:{rows:"rows",cols:"cols"},decls:1,vars:1,consts:[["class","grid-row",4,"ngFor","ngForOf"],[1,"grid-row"],["class","grid-cell",3,"alive","click",4,"ngFor","ngForOf"],[1,"grid-cell",3,"click"]],template:function(t,e){1&t&&s.Yb(0,u,2,1,"div",0),2&t&&s.Tb("ngForOf",e.grid)},directives:[o.h],styles:[".grid-row[_ngcontent-%COMP%]{display:flex;margin-bottom:1px}.grid-row[_ngcontent-%COMP%]:last-child{margin-bottom:0}.grid-cell[_ngcontent-%COMP%]{width:10px;height:10px;margin-right:1px;background-color:#eaeaea}.grid-cell[_ngcontent-%COMP%]:last-child{margin-right:0}.alive[_ngcontent-%COMP%]{background-color:#2da16e}"]}),h),p=((f=function(){function t(e){_classCallCheck(this,t),this.gameOfLifeService=e}return _createClass(t,[{key:"isRunning",get:function(){return this._isRunning}},{key:"ngOnInit",value:function(){this.start()}},{key:"start",value:function(){var t=this;this.intervalId=window.setInterval((function(){t.gameOfLifeService.nextGeneration()}),100),this._isRunning=!0}},{key:"stop",value:function(){window.clearInterval(this.intervalId),this._isRunning=!1}},{key:"getGenerationCount",value:function(){return this.gameOfLifeService.generationCount}},{key:"reset",value:function(){this.stop(),this.gameOfLifeService.reset(),this.gameOfLifeService.randomizeCellStates()}}]),t}()).\u0275fac=function(t){return new(t||f)(s.Gb(c))},f.\u0275cmp=s.Ab({type:f,selectors:[["app-game-of-life-controls"]],decls:9,vars:3,consts:[[1,"buttonGroup"],[3,"disabled","click"],[3,"click"],[1,"pTag"]],template:function(t,e){1&t&&(s.Jb(0,"div",0),s.Jb(1,"button",1),s.Qb("click",(function(){return e.start()})),s.Zb(2,"Start"),s.Ib(),s.Jb(3,"button",1),s.Qb("click",(function(){return e.stop()})),s.Zb(4,"Stop"),s.Ib(),s.Jb(5,"button",2),s.Qb("click",(function(){return e.reset()})),s.Zb(6,"Reset"),s.Ib(),s.Ib(),s.Jb(7,"p",3),s.Zb(8),s.Ib()),2&t&&(s.wb(1),s.Tb("disabled",e.isRunning),s.wb(2),s.Tb("disabled",!e.isRunning),s.wb(5),s.ac("Generation ",e.getGenerationCount(),""))},styles:["[_nghost-%COMP%]{display:flex;justify-content:space-between;width:40%}.pTag[_ngcontent-%COMP%]{margin-right:58%}.buttonGroup[_ngcontent-%COMP%]{display:flex;align-items:center}button[_ngcontent-%COMP%]{border:0;background-color:#007fff;color:#fff;padding:.4em;margin:0 .4em}button[disabled][_ngcontent-%COMP%]{background-color:#d0e7ff;color:#a2d0ff}"]}),f),w=[{path:"",component:(d=function(){function t(e){_classCallCheck(this,t),this.gameOfLifeService=e,this.rows=50,this.cols=50,this.hover=!0}return _createClass(t,[{key:"ngOnInit",value:function(){this.gameOfLifeService.initialize(this.rows,this.cols),this.gameOfLifeService.randomizeCellStates()}},{key:"play",value:function(){this.hover&&(this.gameOfLifeService.playAudio(),this.hover=!1)}}]),t}(),d.\u0275fac=function(t){return new(t||d)(s.Gb(c))},d.\u0275cmp=s.Ab({type:d,selectors:[["app-game-of-life"]],decls:3,vars:2,consts:[[1,"container",3,"click"],[3,"rows","cols"]],template:function(t,e){1&t&&(s.Jb(0,"div",0),s.Qb("click",(function(){return e.play()})),s.Hb(1,"app-game-of-life-grid",1),s.Hb(2,"app-game-of-life-controls"),s.Ib()),2&t&&(s.wb(1),s.Tb("rows",e.rows)("cols",e.cols))},directives:[v,p],styles:[""]}),d)}],m=((b=_createClass((function t(){_classCallCheck(this,t)}))).\u0275mod=s.Eb({type:b}),b.\u0275inj=s.Db({factory:function(t){return new(t||b)},imports:[[r.a.forChild(w)],r.a]}),b),y=((g=_createClass((function t(){_classCallCheck(this,t)}))).\u0275mod=s.Eb({type:g}),g.\u0275inj=s.Db({factory:function(t){return new(t||g)},providers:[c],imports:[[m,o.b]]}),g)}}]);