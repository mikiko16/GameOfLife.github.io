(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{"6Ccj":function(t,e,i){"use strict";i.r(e),i.d(e,"GameModule",(function(){return d}));var r=i("ofXK"),o=i("tyNb"),n=i("fXoL");class s{constructor(t,e){this.currentState=!1,this.tempState=!1,this._row=t,this._col=e}get row(){return this._row}get col(){return this._col}setTempState(t){this.tempState=t}toggleState(){this.tempState=!this.tempState,this.updateCurrentState()}updateCurrentState(){this.currentState=this.tempState}isAlive(){return this.currentState}reset(){this.currentState=this.tempState=!1}}let c=(()=>{class t{constructor(){this._generationCount=0}get generationCount(){return this._generationCount}initialize(t=10,e=10){if(t<5||e<5)throw Error("Width and height must be at least 5.");this.rows=t,this.cols=e,this._generationCount=0,this.cells=Array.from({length:t*e}).map((t,e,i)=>new s(Math.floor(e/this.cols),e%this.cols))}randomizeCellStates(t=.2){if(!this.cells)throw Error("Grid has not yet been initialized.");if(t<0||1<t)throw Error("percentAlive must be a number between 0 and 1, inclusive. Value: "+t);this.reset(),this.cells.forEach(e=>{Math.random()<t&&e.toggleState()})}getGrid(){if(!this.cells)throw Error("Grid has not yet been initialized.");const t=[];for(let e=0;e<this.rows;e++)t.push(this.cells.slice(e*this.cols,(e+1)*this.cols));return t}reset(){if(!this.cells)throw Error("Grid has not yet been initialized.");this.cells.forEach(t=>t.reset()),this._generationCount=0}nextGeneration(){if(!this.cells)throw Error("Grid has not yet been initialized.");this.cells.forEach(t=>{switch(this.getNeighborsOfCell(t).filter(t=>t.isAlive()).length){case 2:break;case 3:t.setTempState(!0);break;default:t.setTempState(!1)}}),this._generationCount++,this.updateCellStates()}updateCellStates(){this.cells.forEach(t=>t.updateCurrentState())}getNeighborsOfCell(t){if(this.isOutOfBounds(t))throw Error("Cell coordinates are out of bounds.");const{row:e,col:i}=t;return[{row:e-1,col:i},{row:e-1,col:i+1},{row:e,col:i+1},{row:e+1,col:i+1},{row:e+1,col:i},{row:e+1,col:i-1},{row:e,col:i-1},{row:e-1,col:i-1}].filter(t=>!this.isOutOfBounds(t)).map(t=>this.getCellAt(t))}getCellAt({row:t=0,col:e=0}={}){if(this.isOutOfBounds({row:t,col:e}))throw Error(`Cell coordinates are out of bounds. Bounds: ${this.rows} rows, ${this.cols} cols. Value: ${{row:t,col:e}}`);return this.cells[t*this.cols+e]}playAudio(){let t=new Audio;t.src="https://mikiko16.github.io/GameOfLife.github.io/assets/music/ForestWalk.mp3",t.load(),t.play()}isOutOfBounds({row:t,col:e}){return this.isRowOutOfBounds(t)||this.isColOutOfBounds(e)}isRowOutOfBounds(t){return t<0||this.rows<=t}isColOutOfBounds(t){return t<0||this.cols<=t}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=n.Cb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function l(t,e){if(1&t){const t=n.Kb();n.Jb(0,"div",3),n.Qb("click",(function(){n.Vb(t);const i=e.$implicit;return n.Sb(2).toggleState(i)})),n.Ib()}2&t&&n.yb("alive",e.$implicit.isAlive())}function a(t,e){if(1&t&&(n.Jb(0,"div",1),n.Yb(1,l,1,2,"div",2),n.Ib()),2&t){const t=e.$implicit;n.wb(1),n.Tb("ngForOf",t)}}let u=(()=>{class t{constructor(t){this.gameOfLifeService=t}ngOnInit(){this.grid=this.gameOfLifeService.getGrid()}toggleState(t){t.toggleState()}}return t.\u0275fac=function(e){return new(e||t)(n.Gb(c))},t.\u0275cmp=n.Ab({type:t,selectors:[["app-game-of-life-grid"]],inputs:{rows:"rows",cols:"cols"},decls:1,vars:1,consts:[["class","grid-row",4,"ngFor","ngForOf"],[1,"grid-row"],["class","grid-cell",3,"alive","click",4,"ngFor","ngForOf"],[1,"grid-cell",3,"click"]],template:function(t,e){1&t&&n.Yb(0,a,2,1,"div",0),2&t&&n.Tb("ngForOf",e.grid)},directives:[r.h],styles:[".grid-row[_ngcontent-%COMP%]{display:flex;margin-bottom:1px}.grid-row[_ngcontent-%COMP%]:last-child{margin-bottom:0}.grid-cell[_ngcontent-%COMP%]{width:10px;height:10px;margin-right:1px;background-color:#eaeaea}.grid-cell[_ngcontent-%COMP%]:last-child{margin-right:0}.alive[_ngcontent-%COMP%]{background-color:#2da16e}"]}),t})(),h=(()=>{class t{constructor(t){this.gameOfLifeService=t}get isRunning(){return this._isRunning}ngOnInit(){this.start()}start(){this.intervalId=window.setInterval(()=>{this.gameOfLifeService.nextGeneration()},100),this._isRunning=!0}stop(){window.clearInterval(this.intervalId),this._isRunning=!1}getGenerationCount(){return this.gameOfLifeService.generationCount}reset(){this.stop(),this.gameOfLifeService.reset(),this.gameOfLifeService.randomizeCellStates()}}return t.\u0275fac=function(e){return new(e||t)(n.Gb(c))},t.\u0275cmp=n.Ab({type:t,selectors:[["app-game-of-life-controls"]],decls:9,vars:3,consts:[[1,"buttonGroup"],[3,"disabled","click"],[3,"click"],[1,"pTag"]],template:function(t,e){1&t&&(n.Jb(0,"div",0),n.Jb(1,"button",1),n.Qb("click",(function(){return e.start()})),n.Zb(2,"Start"),n.Ib(),n.Jb(3,"button",1),n.Qb("click",(function(){return e.stop()})),n.Zb(4,"Stop"),n.Ib(),n.Jb(5,"button",2),n.Qb("click",(function(){return e.reset()})),n.Zb(6,"Reset"),n.Ib(),n.Ib(),n.Jb(7,"p",3),n.Zb(8),n.Ib()),2&t&&(n.wb(1),n.Tb("disabled",e.isRunning),n.wb(2),n.Tb("disabled",!e.isRunning),n.wb(5),n.ac("Generation ",e.getGenerationCount(),""))},styles:["[_nghost-%COMP%]{display:flex;justify-content:space-between;width:40%}.pTag[_ngcontent-%COMP%]{margin-right:58%}.buttonGroup[_ngcontent-%COMP%]{display:flex;align-items:center}button[_ngcontent-%COMP%]{border:0;background-color:#007fff;color:#fff;padding:.4em;margin:0 .4em}button[disabled][_ngcontent-%COMP%]{background-color:#d0e7ff;color:#a2d0ff}"]}),t})();const f=[{path:"",component:(()=>{class t{constructor(t){this.gameOfLifeService=t,this.rows=50,this.cols=50,this.hover=!0}ngOnInit(){this.gameOfLifeService.initialize(this.rows,this.cols),this.gameOfLifeService.randomizeCellStates()}play(){this.hover&&(this.gameOfLifeService.playAudio(),this.hover=!1)}}return t.\u0275fac=function(e){return new(e||t)(n.Gb(c))},t.\u0275cmp=n.Ab({type:t,selectors:[["app-game-of-life"]],decls:3,vars:2,consts:[[1,"container",3,"click"],[3,"rows","cols"]],template:function(t,e){1&t&&(n.Jb(0,"div",0),n.Qb("click",(function(){return e.play()})),n.Hb(1,"app-game-of-life-grid",1),n.Hb(2,"app-game-of-life-controls"),n.Ib()),2&t&&(n.wb(1),n.Tb("rows",e.rows)("cols",e.cols))},directives:[u,h],styles:[""]}),t})()}];let g=(()=>{class t{}return t.\u0275mod=n.Eb({type:t}),t.\u0275inj=n.Db({factory:function(e){return new(e||t)},imports:[[o.a.forChild(f)],o.a]}),t})(),d=(()=>{class t{}return t.\u0275mod=n.Eb({type:t}),t.\u0275inj=n.Db({factory:function(e){return new(e||t)},providers:[c],imports:[[g,r.b]]}),t})()}}]);